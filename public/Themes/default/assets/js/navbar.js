!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).navbar=e()}}(function(){return function r(i,s,l){function c(t,e){if(!s[t]){if(!i[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(d)return d(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var n=s[t]={exports:{}};i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,r,i,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,a){t.exports='a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls], summary, [tabindex^="0"], [tabindex^="1"], [tabindex^="2"], [tabindex^="3"], [tabindex^="4"], [tabindex^="5"], [tabindex^="6"], [tabindex^="7"], [tabindex^="8"], [tabindex^="9"]'},{}],2:[function(e,t,a){!function(e){"use strict";if("document"in e)if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","svg").appendChild(document.createElement("g")))){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var a=function(e){var o=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var t,a=arguments.length;for(t=0;t<a;t++)e=arguments[t],o.call(this,e)}};a("add"),a("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:o.call(this,e)}}t=null}else{if(!("Element"in e))return;var n="classList",r="prototype",i=e.Element[r],s=Object,l=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[r].indexOf||function(e){for(var t=0,a=this.length;t<a;t++)if(t in this&&this[t]===e)return t;return-1},d=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},u=function(e,t){if(""===t)throw new d("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new d("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(e,t)},f=function(e){for(var t=l.call(e.getAttribute("class")||""),a=t?t.split(/\s+/):[],o=0,n=a.length;o<n;o++)this.push(a[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},v=f[r]=[],p=function(){return new f(this)};if(d[r]=Error[r],v.item=function(e){return this[e]||null},v.contains=function(e){return-1!==u(this,e+="")},v.add=function(){for(var e,t=arguments,a=0,o=t.length,n=!1;-1===u(this,e=t[a]+"")&&(this.push(e),n=!0),++a<o;);n&&this._updateClassName()},v.remove=function(){var e,t,a=arguments,o=0,n=a.length,r=!1;do{for(t=u(this,e=a[o]+"");-1!==t;)this.splice(t,1),r=!0,t=u(this,e)}while(++o<n);r&&this._updateClassName()},v.toggle=function(e,t){e+="";var a=this.contains(e),o=a?!0!==t&&"remove":!1!==t&&"add";return o&&this[o](e),!0===t||!1===t?t:!a},v.toString=function(){return this.join(" ")},s.defineProperty){var g={get:p,enumerable:!0,configurable:!0};try{s.defineProperty(i,n,g)}catch(e){-2146823252===e.number&&(g.enumerable=!1,s.defineProperty(i,n,g))}}else s[r].__defineGetter__&&i.__defineGetter__(n,p)}}("undefined"!=typeof window?window:{}),function(){for(var n=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var a=(new Date).getTime();var o=Math.max(0,16-(a-n));return n=a+o,window.setTimeout(function(){e(a+o)},o)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},{}],3:[function(e,t,a){var o,r=e("focusable"),m={TICK_MULTIPLIER:1/Math.cos(Math.PI/4),DEFAULT_ANIMATION_DURATION:200,DEFAULT_POPUP_DELAY:2e3,MAX_PROMOTION_LENGTH:100,MAX_NUM_GAMES_PER_ROW:8,MARGIN_BETWEEN_GAMES:20,KEY_PROMOTIONS_READ:"NavbarPromotionsRead",DATA_PROMOTION_ID:"data-promotion-id",EXTERNAL_EVENTS:{CLOSE_ALL_MENUS:"navbarCloseAllMenus",UPDATE_LOGIN_URL:"updateLoginUrl",ADD_FOOTER_LINKS:"navbarAddFooterLinks",UPDATE_LOCALE_SELECTOR_URLS:"navbarUpdateLocaleSelectorUrls",UPDATE_USER_INFO:"navbarUpdateUserInfo",UPDATE_MAIN_CONTENT_SKIP_LINK:"navbarUpdateMainContentId"},MODE_SIMPLE:"simple",MODE_COMPACT:"compact",MODE_DEFAULT:"default",WINDOW_LOAD_EVENT:"load",DURATION_LOAD_DELAY:500,viewportWidth:0,viewportWidthFooter:0,loadTimeoutId:null,lastUpdateTimestamp:0,lastFooterUpdateTimestamp:0,getCurrentMode:function(){var e=document.querySelector(".Navbar");return e?e.classList.contains("is-compact")?m.MODE_COMPACT:e.classList.contains("is-simple")?m.MODE_SIMPLE:m.MODE_DEFAULT:"default"},calcViewportWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},renderFooter:function(e){if(!e)return!1;var t=document.querySelectorAll("#Navbar-Footer-Dynamic-Template")[0];e.parentNode.replaceChild(t.content.cloneNode(!0),e);var a=document.querySelectorAll(".NavbarFooter")[0];if(m.getGeoipData(a),m.setDownloadCTA(a),a.querySelector(".NavbarFooter-selector")){m.keyboardMode(a);var o=a.querySelector(".NavbarFooter-selectorToggle");o&&(o.addEventListener("click",function(e){m.toggleLocaleSelector.call(a,e)}),o.addEventListener("keydown",function(e){m.toggleLocaleSelector.call(a,e)})),m.forEach(a.querySelectorAll(".NavbarFooter-selectorSection"),function(e){m.trapFocus(e)}),m.forEach(a.getElementsByClassName("Navbar-modalClose"),function(t){function e(e){m.closeModalButtonPressed(e,t,a)}t.addEventListener("keyup",e),t.addEventListener("mousedown",e)});var n=a.querySelector(".NavbarFooter-selectorCloserAnchor");n&&n.addEventListener("click",m.closeLocaleSelector.bind(a));var r=a.querySelector(".NavbarFooter-overlay");r&&r.addEventListener("click",m.closeLocaleSelector.bind(a)),window.addEventListener("resize",m.resizeFooter.bind(a)),(a.classList.contains("is-region-limited")||a.classList.contains("is-region-hybrid"))&&m.forEach(a.querySelectorAll(".NavbarFooter-selectorRegion:not(.is-external)"),function(e){e.addEventListener("click",m.changeFooterRegionLimit.bind(a,e)),e.addEventListener("keydown",m.changeFooterRegionLimit.bind(a,e))})}},init:function(a){if(m.setupExternalEventListeners(a),!a.classList.contains("is-disabled")){m.keyboardMode(a),m.forEach(a.querySelectorAll(".Navbar-overlay"),function(e){e.addEventListener("click",m.closeModals.bind(a))}),window.addEventListener("resize",m.resize.bind(a)),m.forEach(a.querySelectorAll(".Navbar-modalToggle"),function(e){var t=m.toggleModal.bind({root:a,toggle:e});e.addEventListener("keyup",t),e.addEventListener("click",t)}),m.forEach(a.querySelectorAll(".Navbar-account"),function(e){var t=function(){m.displayUserInfo(a,m.user),e.removeEventListener("keyup",t),e.removeEventListener("click",t)};e.addEventListener("keyup",t),e.addEventListener("click",t)});var e=a.querySelector("#skip-link-container");e&&e.children&&(e.addEventListener("keydown",m.skipLinkHandler),e.addEventListener("click",m.skipLinkHandler)),a.hasAttribute("data-ajax")&&m.authenticate(a);var t=a.getAttribute("data-current-site");if(t){var o=a.querySelector('.Navbar-desktop .Navbar-item[data-name="'+t+'"]');o&&o.classList.add("is-current")}var n=navigator.userAgent.toLowerCase();(0<=n.indexOf("iphone")||0<=n.indexOf("ipad"))&&(a.addEventListener("touchmove",m.touchMoveHandler),a.addEventListener("touchend",m.touchEndHandler),m.forEach(a.querySelectorAll(".Navbar-accountModal .Navbar-modalContent, .Navbar-siteMenu .Navbar-modalContent"),function(e){m.forEach(e.querySelectorAll("a, .Navbar-expandableToggle"),function(e){e.addEventListener("click",m.touchClickHandler)})}))}},wireExpandableToggle:function(){var o=this.root;m.forEach(o.querySelectorAll(".Navbar-expandable"),function(t){function e(e){m.toggleExpandable.call(o,t,e)}var a=t.querySelector(".Navbar-expandableToggle");t.addEventListener("keyup",e),a.addEventListener("click",e)}),m.forEach(o.getElementsByClassName("Navbar-modalClose"),function(t){function e(e){m.closeModalButtonPressed(e,t,o)}t.addEventListener("keyup",e),t.addEventListener("mousedown",e)})},initFooter:function(){var t=document.getElementById("Navbar-Footer-Dynamic-Template-Container");new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&m.renderFooter(t)})}).observe(t)},checkValidResize:function(){var e=document.activeElement||{tagName:"",type:""};return!/textarea/i.test(e.tagName)&&(!/input/i.test(e.tagName)||!(/text/i.test(e.type)||/password/i.test(e.type)||/search/i.test(e.type)||/email/i.test(e.type)||/number/i.test(e.type)))},updateNavbar:function(e,t){if(t>m.lastUpdateTimestamp){m.lastUpdateTimestamp=t;var a=m.calcViewportWidth();if(a===m.viewportWidth)return;m.viewportWidth=a,m.checkValidResize()&&e&&e.classList.contains("is-focused")&&m.closeModals.call(e),m.testForOverlappingElementsAndSwitchToCollapsed()}},resize:function(){var t=this;requestAnimationFrame(function(e){m.updateNavbar(t,e)})},setupExternalEventListeners:function(e){for(var t in m.EXTERNAL_EVENTS)window.addEventListener(m.EXTERNAL_EVENTS[t],m.handleExternalEvent.bind(e))},handleExternalEvent:function(e){switch(e.type){case m.EXTERNAL_EVENTS.CLOSE_ALL_MENUS:m.closeModals.call(this);break;case m.EXTERNAL_EVENTS.UPDATE_LOGIN_URL:m.updateLoginUrl.call(this,e);break;case m.EXTERNAL_EVENTS.ADD_FOOTER_LINKS:m.addFooterLinks.call(this,e.detail);break;case m.EXTERNAL_EVENTS.UPDATE_LOCALE_SELECTOR_URLS:m.updateLocaleSelectorUrls.call(this,e.detail);break;case m.EXTERNAL_EVENTS.UPDATE_USER_INFO:m.updateUserInfo.call(this,e.detail);break;case m.EXTERNAL_EVENTS.UPDATE_MAIN_CONTENT_SKIP_LINK:m.updateMainContentId.call(this,e.detail)}},testForOverlappingElementsAndSwitchToCollapsed:function(){var e=document.querySelector(".Navbar-desktop .Navbar-items");if(e&&0!=e.offsetHeight){var t=document.querySelector(".Navbar-collapsedItems");t&&(m.useCollapsedDesktop(e)?(e.classList.add("is-invisible"),m.forEach(e.children,function(e){if(!e.hasAttribute("tabindex"))return!1;e.setAttribute("tabindex","-1")}),t.classList.remove("is-hidden")):(e.classList.remove("is-invisible"),m.forEach(e.children,function(e){if(!e.hasAttribute("tabindex"))return!1;e.setAttribute("tabindex","0")}),t.classList.add("is-hidden")))}},useCollapsedDesktop:function(e){var t=document.querySelector(".Navbar-desktop .Navbar-profileItems").getBoundingClientRect(),a=e.getBoundingClientRect(),o=m.calcViewportWidth();return o<=a.right+(o-t.left)},touchMoving:!1,touchMoveHandler:function(){m.touchMoving=!0},touchEndHandler:function(){m.touchMoving=!1},touchClickHandler:function(e){if(m.touchMoving)return e.stopPropagation(),e.preventDefault(),!1},toggleModal:function(v){var a=["#Navbar-Dropdowns-Dynamic-Template","#Navbar-Dropdowns-Dynamic-Mobile-Template"];if(this.root.querySelectorAll(a).forEach(function(e,t){e.parentNode.replaceChild(e.content.cloneNode(!0),e),t===a.length-1&&m.wireExpandableToggle.call(this)}.bind(this)),m.isNotEnterPressOrMouseClick(v))return!1;var e=this.toggle,p=e?e.getAttribute("data-target"):null,g=e?e.getAttribute("data-site-mode"):null,h=m.getCurrentMode(),b=!1;return m.forEach(this.root.querySelectorAll(".Navbar-modal"),function(e){var t=this.toggle,a=!g||e.getAttribute("data-"+h+"-mode");if((e===this.target||e.classList.contains(p))&&a){if(m.isOpen(e))m.close(e),e.classList.contains("is-scroll-blocking")&&m.unblockScrolling(),t&&(t.classList.remove("is-active"),t.setAttribute("aria-expanded",!1));else{m.open(e),e.classList.contains("is-scroll-blocking")&&m.blockScrolling(),t&&(t.classList.add("is-active"),t.setAttribute("aria-expanded",!0));var o=e.querySelector(".Navbar-tick");if(o){o.style.left="";var n=t.querySelector(".Navbar-dropdownIcon");n&&0!==n.offsetLeft||(n=t.querySelector(".Navbar-label")),n&&0!==n.offsetLeft||(n=t);var r=m.setTickOffset(n,o);if(!e.classList.contains("is-constrained")){var i=e.offsetWidth/2,s=i<r?r-i:i-r,l=e.offsetHeight/i,c=Math.atan(l),d=i/Math.cos(c);o.querySelector(".Navbar-tickInner").style.opacity=s/d}}b=!0}var u=m.getFocusableElements(e)[0],f=("keyup"===v.type||"keydown"===v.type)&&"Enter"===v.key;u&&f&&u.focus(),m.trapFocus(e),e.classList.contains("is-animated")&&(e.addEventListener("animationend",m.setModalDisplayStateAfterAnimation.bind(e)),e.addEventListener("transitionend",m.setModalDisplayStateAfterAnimation.bind(e)))}else m.close(e),m.forEach(this.root.querySelectorAll('.Navbar-modalToggle[data-name="'+e.getAttribute("data-toggle")+'"]'),function(e){e.classList.remove("is-active")}),t.blur()}.bind(this)),m.forEach(this.root.querySelectorAll(".Navbar-item"),function(e){b?e.getAttribute("data-target")===p?e.classList.remove("is-faded"):e.classList.add("is-faded"):e.classList.remove("is-faded")}.bind(this)),m.forEach(this.root.querySelectorAll(".Navbar-promotion"),function(e){m.trapFocus(e)}),this.root.classList.toggle("is-focused",b),m.toggleExpandable.call(this.root),v.stopPropagation(),v.preventDefault(),!1},closeModals:function(){m.forEach((this||document).querySelectorAll(".Navbar .Navbar-item"),function(e){e.classList.remove("is-active"),e.classList.remove("is-faded")}),m.forEach(document.querySelectorAll(".Navbar-modalToggle"),function(e){e.setAttribute("aria-expanded",!1)}),m.forEach((this||document).querySelectorAll(".Navbar .Navbar-modal.is-open"),function(e){m.close(e)}),this&&this.classList?this.classList.remove("is-focused"):m.forEach(document.querySelectorAll(".Navbar"),function(e){e.classList.remove("is-focused")}),this&&m.toggleExpandable.call(this),m.unblockScrolling()},updateLoginUrl:function(t){m.forEach((this||document).querySelectorAll("div.Navbar-accountDropdownLoggedOut > div > a"),function(e){e.href=t.detail})},addFooterLinks:function(e){e=e||{};var o=document.querySelector(".NavbarFooter-linksRight");m.forEach(e.primary,function(e){if(e.text&&e.href&&o){var t=((a=r(e)).classList.add("NavbarFooter-mainLink"),a);o.appendChild(t)}var a});var n=document.querySelector(".NavbarFooter-links.NavbarFooter-subLinks");function r(e){var t=document.createElement("div");t.classList.add("NavbarFooter-link");var a=document.createElement("a");a.classList.add("NavbarFooter-anchor"),a.href=e.href;var o=e.attributes||{};Object.keys(o).forEach(function(e){a.setAttribute(e,o[e])});var n=document.createTextNode(e.text);return a.appendChild(n),t.appendChild(a),t}m.forEach(e.secondary,function(e){if(e.text&&e.href&&n){var t=((a=r(e)).classList.add("NavbarFooter-subLink"),a.setAttribute("role","presentation"),a);n.appendChild(t)}var a})},updateLocaleSelectorUrls:function(t){var e=document.querySelectorAll(".NavbarFooter-selectorLocale");m.forEach(e,function(e){t.hasOwnProperty(e.dataset.id)&&(e.href=t[e.dataset.id])})},updateUserInfo:function(t){if(t&&t.battletag){var e=document.querySelectorAll(".Navbar");m.forEach(e,function(e){m.checkDisabled(e)||m.displayUserInfo(e,t)})}},isOpen:function(e){return e.classList.contains("is-open")},open:function(e){e.classList.add("is-open")},close:function(e){e.classList.remove("is-open")},blockScrolling:function(){document.body.classList.add("Navbar-blockScrolling")},unblockScrolling:function(){document.body.classList.remove("Navbar-blockScrolling")},setModalDisplayStateAfterAnimation:function(e){return m.isOpen(this)?m.showModal(this):m.hideModal(this),e.stopPropagation(),e.preventDefault(),!1},showModal:function(e){e.classList.add("is-displayed")},hideModal:function(e){e.classList.remove("is-displayed")},toggleExpandable:function(o,e){if(m.isNotEnterPressOrMouseClick(e))return!1;m.forEach(this.querySelectorAll(".Navbar-expandable"),function(e){var t=e.querySelector(".Navbar-expandableContainer");if(e!=o||m.isOpen(e))t.style.height="0px",e.NavbarAnimationTimeout=setTimeout(function(){m.close(e),e.setAttribute("aria-expanded",!1)}.bind(e),m.DEFAULT_ANIMATION_DURATION);else{e.NavbarAnimationTimeout&&clearTimeout(e.NavbarAnimationTimeout),t.style.height="0px",m.open(e),e.setAttribute("aria-expanded",!0);var a=e.querySelector(".Navbar-expandableContent");t.style.height=a.offsetHeight+"px"}})},checkDisabled:function(e){return e&&e.classList&&e.classList.contains("is-disabled")},checkSupportNotifications:function(e){var t=e.getAttribute("data-support-url"),a="NavbarSupportTicketCallback"+(new Date).getTime()+"_"+Math.round(1e5*Math.random());window[a]=m.setSupportNotificationCount.bind(m,e);var o=document.createElement("script");o.src=t+"window."+a,document.getElementsByTagName("head")[0].appendChild(o)},setSupportNotificationCount:function(e,t){var a=t&&t.total?t.total:0;a&&0<a?(this.forEach(e.querySelectorAll(".Navbar-supportCounter, .Navbar-accountDropdownSupport .Navbar-accountDropdownCounter"),function(e){e.innerHTML=""+a}),e.classList.add("is-support-active")):(e.classList.remove("is-support-active"),this.forEach(e.querySelectorAll(".Navbar-supportCounter, .Navbar-accountDropdownSupport .Navbar-accountDropdownCounter"),function(e){e.innerHTML="0"}))},forEach:function(e,t){if(e&&e.length&&"function"==typeof t)for(var a=0;a<e.length;a++)t(e[a],a,e)},request:function(e,t,a,o){var n=new XMLHttpRequest;n.open(e,t),n.onreadystatechange=function(e,t){4===this.readyState&&(200===this.status?e(this.responseText):t(this.status))}.bind(n,a,o),n.send()},get:function(e,t,a){return m.request("GET",e,t,a)},authenticate:function(a){var e=a.getAttribute("data-auth-url");m.get(e,function(e){if(e){var t={};try{t=JSON.parse(e),m.displayUserInfo(a,t),m.checkSupportNotifications(a),m.user={account:t.account,battleTag:t.battleTag,email:t.email,flags:t.flags}}catch(e){console.error(e)}}},function(e){console.error("Couldn't verify user",e)})},displayUserInfo:function(e,t){if((e=e||document.querySelector(".Navbar"))&&t){var a="",o="",n="",r=(t.email||"").toLowerCase();if(t.account&&t.account.battleTag)a=o=t.account.battleTag.name||o,(n=t.account.battleTag.code||n)&&"#"!==n.charAt(0)&&(n="#"+n);else if(t.battletag){var i=t.battletag.split("#");a=o=i[0]||o,(n=i[1]||n)&&"#"!==n.charAt(0)&&(n="#"+n)}else r&&(a=12<r.length?r.substring(0,12):r);e.classList.add("is-authenticated"),t.flags&&t.flags.employee&&e.classList.add("is-employee"),m.forEach(e.querySelectorAll(".Navbar-accountAuthenticated"),function(e){e.innerHTML=a}),m.forEach(e.querySelectorAll(".Navbar-accountDropdownLoggedIn"),function(e){e.querySelector(".Navbar-accountDropdownBattleTag").innerHTML=o,e.querySelector(".Navbar-accountDropdownBattleTagNumber").innerHTML=n,e.querySelector(".Navbar-accountDropdownEmail").innerHTML=r})}},injectGeoipData:function(e){var t=this.querySelectorAll(".NavbarFooter-subLinks")[0];t&&(t.innerHTML+=e)},getGeoipData:function(o){var e=o.getAttribute("data-locale"),t="cn"===o.getAttribute("data-region"),a=t?"CN":o.getAttribute("data-country"),n=o.getAttribute("data-geoip-service-url"),r=o.hasAttribute("data-authenticated");function i(e,t,a){o.setAttribute("data-country",e),t&&o.setAttribute("data-administrative-division",t),a&&m.injectGeoipData.call(o,a)}function s(){i(e&&e.slice(-2).toUpperCase(),""),m.getLegal(o)}n=n.concat("?locale="+e),(r||t)&&(n=n.concat("&userCountry="+a)),m.get(n,function(e){"string"==typeof e&&(e=JSON.parse(e)),"object"==typeof e&&e.country?i(e.country,e.subdivision,e.subLinksHTML):s(),m.getLegal(o)},s)},getLegal:function(e){var t=e.querySelector(".NavbarFooter-legal"),a=e.getAttribute("data-locale"),o=e.getAttribute("data-country"),n=t.getAttribute("data-legal-id"),r=t.getAttribute("data-sub-title-id"),i="true"==t.getAttribute("data-disable-legal"),s="true"==t.getAttribute("data-disable-additional"),l=t.getAttribute("data-legal-url"),c=l.indexOf("?"),d=~c?c:l.length;l=l.substring(0,d)+"?titleId={titleId}&countryCode={countryCode}&locale={locale}".replace(/{locale}/g,a).replace("{titleId}",n).replace("{countryCode}",o),r&&(l+="&subtitleId="+r);m.get(l,function(e){if(e)try{m.generateLegal(t,JSON.parse(e),i,s)}catch(e){console.error(e)}},function(e){console.error("Couldn't retrieve legal data",e)})},generateLegal:function(e,t,a,o){if(t.success){if(!o&&t.additional&&t.additional.length)e.innerHTML=t.additional.join("");else for(var n=e.children,r=0;r<n.length;r++){var i=n[r];i.classList.contains("NavbarFooter-customLegal")||e.removeChild(i)}if(!a){t.ratings.items=t.ratings.items.map(function(e){var o=[];return e.ratingContentGroups=e.ratingContentGroups.sort(function(e,t){return e.position-t.position}).filter(function(e){return 0<e.ratingContents.length}).map(function(e,t,a){return e.ratingContents.sort(function(e,t){return e.position-t.position}),o=o.concat(e.ratingContents),e.ratingContents=[],t!==a.length-1?o.push({hr:!0}):e.ratingContents=e.ratingContents.concat(o),e}),e});function s(e){return null!=e?" "+e:""}function l(e,t,a){var o=document.createElement(e);if(t)for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s&&o.setAttribute(i,s)}return m.forEach(a,function(e){o.appendChild(e)}),o}var c=l("div",{class:"NavbarFooter-legalRatings",role:"presentation"});m.forEach(t.ratings.items,function(e){var r=l("div",{class:"NavbarFooter-legalRatingDescriptorsWrapper",role:"presentation",id:"NavbarFooter-legalRatingDescriptorsWrapper"}),t=l("img",{class:"NavbarFooter-legalRatingDetailImage",src:e.ratingImageUrl,alt:e.ratingBoardName+s(e.localizedDescription)}),a=l("a",{class:"NavbarFooter-legalLink",href:e.referenceUrl,title:e.ratingBoardName+s(e.localizedDescription),"aria-labelledby":"NavbarFooter-aria-name NavbarFooter-legalRatingDescriptorsWrapper"},[t]);0<e.ratingContentGroups.length&&m.forEach(e.ratingContentGroups,function(e){m.forEach(e.ratingContents,function(e){if(e.imageUrl){var t=l("img",{class:"NavbarFooter-legalRatingDetailImage",src:e.imageUrl,alt:s(e.localizedName)}),a=l("a",{class:"NavbarFooter-legalLink",title:s(e.localizedDescription)},[t]);r.appendChild(a)}else if(e.hr){var o=l("hr",{class:"NavbarFooter-esrbHR"});r.appendChild(o)}else{var n=l("div",{class:"NavbarFooter-esrbDescriptor",title:e.localizedDescription,"aria-label":e.localizedDescription},[document.createTextNode(e.localizedName)]);r.appendChild(n)}})});var o=[a];if(0<e.ratingContentGroups.length&&o.push(r),c.appendChild(l("div",{class:"NavbarFooter-legalRatingWrapper",role:"presentation"},o)),e.localizedName){var n=l("a",{class:"is-ariaInvisible",id:"NavbarFooter-aria-name","aria-hidden":"true"},[document.createTextNode(e.localizedName)]);c.appendChild(n)}if(e.customImageUrl){var i=l("a",{class:"NavbarFooter-legalLink",title:e.ratingBoardName+s(e.localizedDescription)},[l("img",{class:"NavbarFooter-legalRatingDetailImage",src:e.customImageUrl,alt:e.ratingBoardName+s(e.localizedDescription)})]);c.appendChild(i)}}),e.appendChild(c)}}},setDownloadCTA:function(e){var t=navigator.userAgent||navigator.vendor||window.opera,a=/windows phone/i.test(t),o=/android/i.test(t)&&!a,n=/iPad|iPhone|iPod/.test(t)&&!a&&!window.MSStream;(o||n)&&(e.querySelector(".NavbarFooter-downloadCta-desktop").style.display="none"),o&&(e.querySelector(".NavbarFooter-downloadCta-android").style.display="block"),n&&(e.querySelector(".NavbarFooter-downloadCta-ios").style.display="block"),e.querySelector(".NavbarFooter-downloadCta").style.display="block"},setTickOffset:function(e,t){t.style.left="";var a=e.offsetWidth/2+e.getBoundingClientRect().left-t.getBoundingClientRect().left-m.TICK_MULTIPLIER*t.offsetWidth/2;return t.style.left=a+"px",a},setVerticalTickOffset:function(e,t){t.style.top="";var a=t.offsetHeight+e.getBoundingClientRect().top-t.getBoundingClientRect().top-m.TICK_MULTIPLIER*t.offsetHeight/2;return t.style.top=a+"px",a},toggleLocaleSelector:function(e){if(m.isNotEnterPressOrMouseClick(e))return!1;this.querySelector(".NavbarFooter-selector").classList.contains("is-open")?m.closeLocaleSelector.call(this):m.openLocaleSelector.call(this);var t=m.getFocusableElements(".NavbarFooter-selectorDropdownContainer")[0];return t&&t.focus(),e.stopPropagation(),e.preventDefault(),!1},openLocaleSelector:function(){this.classList.add("is-focused"),this.querySelector(".NavbarFooter-selector").classList.add("is-open");var e=this.querySelector(".NavbarFooter-selectorToggleArrow"),t=this.querySelector(".NavbarFooter-selectorTick");m.setTickOffset(e,t),(this.classList.contains("is-region-limited")||this.classList.contains("is-region-hybrid"))&&m.changeFooterRegionLimit.call(this,this.querySelector(".NavbarFooter-selectorRegion.is-active")),m.blockScrolling()},closeLocaleSelector:function(){this.classList.remove("is-focused");var e=this.querySelector(".NavbarFooter-selector");e&&e.classList.remove("is-open"),m.unblockScrolling()},updateFooter:function(e){if(e>m.lastFooterUpdateTimestamp){m.lastFooterUpdateTimestamp=e;var t=m.calcViewportWidth();if(t===m.viewportWidthFooter)return;m.viewportWidthFooter=t,this&&this.classList.contains("is-focused")&&m.closeLocaleSelector.call(this)}},resizeFooter:function(){var t=this;requestAnimationFrame(function(e){m.updateFooter.call(t,e)})},changeFooterRegionLimit:function(e){var t=e.getAttribute("data-id");if(m.isNotEnterPressOrMouseClick(event))return!1;m.forEach(this.querySelectorAll(".NavbarFooter-selectorSectionPage.is-open:not([data-region='"+t+"'])"),function(e){e.classList.remove("is-open")});var a=this.querySelector(".NavbarFooter-selectorSectionPage[data-region='"+t+"']");a.classList.add("is-open"),a.querySelectorAll("a")[0].focus(),m.forEach(this.querySelectorAll(".NavbarFooter-selectorRegion.is-selected:not([data-id='"+t+"'])"),function(e){e.classList.remove("is-selected")}),e.classList.add("is-selected");var o=this.querySelector(".NavbarFooter-selectorRegionTick"),n=m.setVerticalTickOffset(e,o);o.querySelector(".NavbarFooter-selectorRegionTickOverlay").style.opacity=n/this.querySelector(".NavbarFooter-selectorRegions").offsetHeight,event.preventDefault()},getLocalDomainName:function(){var e=window.location.href;return(-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0]).split(":")[0]},pushAnalyticsEvent:function(e){window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(e)},pushGlobalNotificationAnalyticsEvent:function(e,t,a){m.pushAnalyticsEvent({event:"globalNotification",analytics:{eventPlacement:e,eventPanel:"id:"+t+" || "+a}})},loadHandler:function(){m.testForOverlappingElementsAndSwitchToCollapsed(),m.loadTimeoutId&&(clearTimeout(m.loadTimeoutId),m.loadTimeoutId=null)},trapFocus:function(i){i.addEventListener("keydown",function(e){switch(e.key){case"Tab":break;case"Esc":case"Escape":var t=i.querySelectorAll(".Navbar-modalClose")[0],a=document.createEvent("Event");a.key="Enter",a.initEvent("keyup",!0,!1),t.dispatchEvent(a);default:return}var o=m.getFocusableElements(i),n=o[0],r=o[o.length-1];e.shiftKey&&document.activeElement===n?(r.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==r||(n.focus(),e.preventDefault())})},getFocusableElements:function(e){for(var t=[],a="string"==typeof e?document.querySelectorAll(e)[0].querySelectorAll(r):e.querySelectorAll(r),o=0;o<a.length;o++){var n=a[o];n.offsetParent&&t.push(n)}return t},isNotEnterPressOrMouseClick:function(e){if(e){var t=("keyup"===e.type||"keydown"===e.type)&&"Enter"===e.key,a="click"===e.type||"mousedown"===e.type;if(!t&&!a)return!0}return!1},closeModalButtonPressed:function(e,t,a){var o=t.attributes["data-target"];if(m.isNotEnterPressOrMouseClick(e)||!o)return!1;var n=document.querySelectorAll(o.textContent)[0];m.closeModals.call(a),m.closeLocaleSelector.call(a),n.focus()},skipLinkHandler:function(){if("Enter"===event.key||"click"===event.type){event.preventDefault();var e=event.target.id,t=event.target.href.split("#")[1],a=document.querySelector("#"+t);a&&a.getAttribute("tabindex")?a.focus():a&&(a.tabIndex=a.tabIndex,a.focus(),a.removeAttribute("tabindex")),m.pushAnalyticsEvent({event:"skipLink",analytics:{eventPlacement:"Click - Skip Link",eventPanel:"id:"+e+" || target: "+t}})}},keyboardMode:function(e){e.addEventListener("mousedown",function(){this.classList.remove("keyboardMode")}),e.addEventListener("keyup",function(){this.classList.add("keyboardMode")})},updateMainContentId:function(e){e&&(document.getElementById("main-skip-link").href="#"+e.id)}};o=[],m.forEach(document.querySelectorAll(".Navbar"),function(e){m.init(e),o.push(e)}),m.forEach(document.querySelectorAll(".NavbarFooter"),function(e){m.initFooter(e)}),document.addEventListener("DOMContentLoaded",function(e){m.forEach(o,m.updateNavbar),m.loadTimeoutId=setTimeout(m.loadHandler,m.DURATION_LOAD_DELAY)}),window.addEventListener(m.WINDOW_LOAD_EVENT,m.loadHandler),t&&(t.exports=m)},{focusable:1}]},{},[2,3])(3)});